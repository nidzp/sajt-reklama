<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reklame Portal</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="cookie-styles.css" />
  </head>
  <body>
    <!-- ...existing code... -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="cookie-consent.js"></script>
    <script>
      const API_URL =
        window.location.hostname === "localhost"
          ? "http://localhost:3000/api"
          : "/api";

      async function loadAds() {
        try {
          const response = await fetch(`${API_URL}/ads`);

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          const ads = await response.json();
          displayAds(ads);
        } catch (error) {
          console.error("Greška pri učitavanju reklama:", error);
          document.getElementById("adsContainer").innerHTML =
            '<div class="alert alert-danger">Greška pri učitavanju reklama. Molimo osvežite stranicu.</div>';
        }
      }

      function displayAds(ads) {
        const container = document.getElementById("adsContainer");

        if (ads.length === 0) {
          container.innerHTML =
            '<div class="alert alert-info">Trenutno nema dostupnih reklama.</div>';
          return;
        }

        // ...existing code...
      }

      // Load ads on page load
      loadAds();
    </script>
  </body>
</html>
